!function o(n,l,a){function s(r,e){if(!l[r]){if(!n[r]){var t="function"==typeof require&&require;if(!e&&t)return t(r,!0);if(c)return c(r,!0);throw new Error("Cannot find module '"+r+"'")}e=l[r]={exports:{}};n[r][0].call(e.exports,function(e){var t=n[r][1][e];return s(t||e)},e,e.exports,o,n,l,a)}return l[r].exports}for(var c="function"==typeof require&&require,e=0;e<a.length;e++)s(a[e]);return s}({1:[function(j,L,M){"use strict";function a(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var o,n,l,a,s=[],c=!0,i=!1;try{if(l=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(o=l.call(r)).done)&&(s.push(o.value),s.length!==t);c=!0);}catch(e){i=!0,n=e}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(i)throw n}}return s}}(e,t)||function(e,t){var r;if(e)return"string"==typeof e?o(e,t):"Map"===(r="Object"===(r=Object.prototype.toString.call(e).slice(8,-1))&&e.constructor?e.constructor.name:r)||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?o(e,t):void 0}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,o=new Array(t);r<t;r++)o[r]=e[r];return o}var n,c,i,e,l,t,s,u,r,m,f,d,p,g,b,y,w,h,C,v,k,E,R,S,B,P,x,I,F,A,N,z,T=window.WPForms||{};T.FormSelector=T.FormSelector||(n=document,c=window,i=jQuery,e=wp.serverSideRender,l=void 0===e?wp.components.ServerSideRender:e,e=wp.element,t=e.createElement,s=e.Fragment,u=e.useState,r=e.createInterpolateElement,m=wp.blocks.registerBlockType,e=wp.blockEditor||wp.editor,f=e.InspectorControls,d=e.InspectorAdvancedControls,p=e.PanelColorSettings,e=wp.components,g=e.SelectControl,b=e.ToggleControl,y=e.PanelBody,w=e.Placeholder,h=e.Flex,C=e.FlexBlock,v=e.__experimentalUnitControl,k=e.TextareaControl,E=e.Button,R=e.Modal,e=wpforms_gutenberg_form_selector,S=e.strings,B=e.defaults,P=e.sizes,x=B,I=wp.i18n.__,F={},A=!0,N={},z={init:function(){z.initDefaults(),z.registerBlock(),i(z.ready)},ready:function(){z.events()},events:function(){i(c).on("wpformsFormSelectorEdit",_.debounce(z.blockEdit,250)).on("wpformsFormSelectorFormLoaded",_.debounce(z.formLoaded,250))},openBuilderPopup:function(e){i.isEmptyObject(N)&&(t=i("#wpforms-gutenberg-popup"),(r=i("#wpwrap")).after(t),N=r.siblings("#wpforms-gutenberg-popup"));var t=wpforms_gutenberg_form_selector.get_started_url,r=N.find("iframe");z.builderCloseButtonEvent(e),r.attr("src",t),N.fadeIn()},builderCloseButtonEvent:function(n){N.off("wpformsBuilderInPopupClose").on("wpformsBuilderInPopupClose",function(e,t,r,o){"saved"===t&&r&&(t=wp.blocks.createBlock("wpforms/form-selector",{formId:r.toString()}),wpforms_gutenberg_form_selector.forms=[{ID:r,post_title:o}],wp.data.dispatch("core/block-editor").removeBlock(n),wp.data.dispatch("core/block-editor").insertBlocks(t))})},registerBlock:function(){m("wpforms/form-selector",{title:S.title,description:S.description,icon:z.getIcon(),keywords:S.form_keywords,category:"widgets",attributes:z.getBlockAttributes(),supports:{customClassName:z.hasForms()},example:{attributes:{preview:!0}},edit:function(e){var t=e.attributes,r=z.getFormOptions(),o=z.getSizeOptions(),n=z.getSettingsFieldsHandlers(e),l=(t.clientId||e.setAttributes({clientId:e.clientId}),[z.jsxParts.getMainSettings(t,n,r)]);return z.hasForms()?t.formId?(l.push(z.jsxParts.getStyleSettings(t,n,o),z.jsxParts.getAdvancedSettings(t,n),z.jsxParts.getBlockFormContent(e)),n.updateCopyPasteContent(),i(c).trigger("wpformsFormSelectorEdit",[e])):t.preview?l.push(z.jsxParts.getBlockPreview()):l.push(z.jsxParts.getBlockPlaceholder(e.attributes,n,r)):l.push(z.jsxParts.getEmptyFormsPreview(e)),l},save:function(){return null}})},initDefaults:function(){["formId","copyPasteJsonValue"].forEach(function(e){return delete x[e]})},hasForms:function(){return 1<z.getFormOptions().length},jsxParts:{getMainSettings:function(e,t,r){return z.hasForms()?React.createElement(f,{key:"wpforms-gutenberg-form-selector-inspector-main-settings"},React.createElement(y,{className:"wpforms-gutenberg-panel",title:S.form_settings},React.createElement(g,{label:S.form_selected,value:e.formId,options:r,onChange:function(e){return t.attrChange("formId",e)}}),React.createElement(b,{label:S.show_title,checked:e.displayTitle,onChange:function(e){return t.attrChange("displayTitle",e)}}),React.createElement(b,{label:S.show_description,checked:e.displayDesc,onChange:function(e){return t.attrChange("displayDesc",e)}}),React.createElement("p",{className:"wpforms-gutenberg-panel-notice"},React.createElement("strong",null,S.panel_notice_head),S.panel_notice_text,React.createElement("a",{href:S.panel_notice_link,rel:"noreferrer",target:"_blank"},S.panel_notice_link_text)))):z.jsxParts.printEmptyFormsNotice(e.clientId)},printEmptyFormsNotice:function(e){return React.createElement(f,{key:"wpforms-gutenberg-form-selector-inspector-main-settings"},React.createElement(y,{className:"wpforms-gutenberg-panel",title:S.form_settings},React.createElement("p",{className:"wpforms-gutenberg-panel-notice wpforms-warning wpforms-empty-form-notice",style:{display:"block"}},React.createElement("strong",null,I("You havenâ€™t created a form, yet!","wpforms-lite")),I("What are you waiting for?","wpforms-lite")),React.createElement("button",{type:"button",className:"get-started-button components-button is-secondary",onClick:function(){z.openBuilderPopup(e)}},I("Get Started","wpforms-lite"))))},getFieldStyles:function(e,t,r){return React.createElement(y,{className:z.getPanelClass(e),title:S.field_styles},React.createElement("p",{className:"wpforms-gutenberg-panel-notice wpforms-use-modern-notice"},React.createElement("strong",null,S.use_modern_notice_head),S.use_modern_notice_text," ",React.createElement("a",{href:S.use_modern_notice_link,rel:"noreferrer",target:"_blank"},S.learn_more)),React.createElement("p",{className:"wpforms-gutenberg-panel-notice wpforms-warning wpforms-lead-form-notice",style:{display:"none"}},React.createElement("strong",null,S.lead_forms_panel_notice_head),S.lead_forms_panel_notice_text),React.createElement(h,{gap:4,align:"flex-start",className:"wpforms-gutenberg-form-selector-flex",justify:"space-between"},React.createElement(C,null,React.createElement(g,{label:S.size,value:e.fieldSize,options:r,onChange:function(e){return t.styleAttrChange("fieldSize",e)}})),React.createElement(C,null,React.createElement(v,{label:S.border_radius,value:e.fieldBorderRadius,isUnitSelectTabbable:!0,onChange:function(e){return t.styleAttrChange("fieldBorderRadius",e)}}))),React.createElement("div",{className:"wpforms-gutenberg-form-selector-color-picker"},React.createElement("div",{className:"wpforms-gutenberg-form-selector-control-label"},S.colors),React.createElement(p,{__experimentalIsRenderedInSidebar:!0,enableAlpha:!0,showTitle:!1,className:"wpforms-gutenberg-form-selector-color-panel",colorSettings:[{value:e.fieldBackgroundColor,onChange:function(e){return t.styleAttrChange("fieldBackgroundColor",e)},label:S.background},{value:e.fieldBorderColor,onChange:function(e){return t.styleAttrChange("fieldBorderColor",e)},label:S.border},{value:e.fieldTextColor,onChange:function(e){return t.styleAttrChange("fieldTextColor",e)},label:S.text}]})))},getLabelStyles:function(e,t,r){return React.createElement(y,{className:z.getPanelClass(e),title:S.label_styles},React.createElement(g,{label:S.size,value:e.labelSize,className:"wpforms-gutenberg-form-selector-fix-bottom-margin",options:r,onChange:function(e){return t.styleAttrChange("labelSize",e)}}),React.createElement("div",{className:"wpforms-gutenberg-form-selector-color-picker"},React.createElement("div",{className:"wpforms-gutenberg-form-selector-control-label"},S.colors),React.createElement(p,{__experimentalIsRenderedInSidebar:!0,enableAlpha:!0,showTitle:!1,className:"wpforms-gutenberg-form-selector-color-panel",colorSettings:[{value:e.labelColor,onChange:function(e){return t.styleAttrChange("labelColor",e)},label:S.label},{value:e.labelSublabelColor,onChange:function(e){return t.styleAttrChange("labelSublabelColor",e)},label:S.sublabel_hints.replace("&amp;","&")},{value:e.labelErrorColor,onChange:function(e){return t.styleAttrChange("labelErrorColor",e)},label:S.error_message}]})))},getButtonStyles:function(e,t,r){return React.createElement(y,{className:z.getPanelClass(e),title:S.button_styles},React.createElement(h,{gap:4,align:"flex-start",className:"wpforms-gutenberg-form-selector-flex",justify:"space-between"},React.createElement(C,null,React.createElement(g,{label:S.size,value:e.buttonSize,options:r,onChange:function(e){return t.styleAttrChange("buttonSize",e)}})),React.createElement(C,null,React.createElement(v,{onChange:function(e){return t.styleAttrChange("buttonBorderRadius",e)},label:S.border_radius,isUnitSelectTabbable:!0,value:e.buttonBorderRadius}))),React.createElement("div",{className:"wpforms-gutenberg-form-selector-color-picker"},React.createElement("div",{className:"wpforms-gutenberg-form-selector-control-label"},S.colors),React.createElement(p,{__experimentalIsRenderedInSidebar:!0,enableAlpha:!0,showTitle:!1,className:"wpforms-gutenberg-form-selector-color-panel",colorSettings:[{value:e.buttonBackgroundColor,onChange:function(e){return t.styleAttrChange("buttonBackgroundColor",e)},label:S.background},{value:e.buttonTextColor,onChange:function(e){return t.styleAttrChange("buttonTextColor",e)},label:S.text}]}),React.createElement("div",{className:"wpforms-gutenberg-form-selector-legend wpforms-button-color-notice"},S.button_color_notice)))},getStyleSettings:function(e,t,r){return React.createElement(f,{key:"wpforms-gutenberg-form-selector-style-settings"},z.jsxParts.getFieldStyles(e,t,r),z.jsxParts.getLabelStyles(e,t,r),z.jsxParts.getButtonStyles(e,t,r))},getAdvancedSettings:function(e,t){function r(){return l(!1)}var o=a(u(!1),2),n=o[0],l=o[1];return React.createElement(d,null,React.createElement("div",{className:z.getPanelClass(e)},React.createElement(k,{label:S.copy_paste_settings,rows:"4",spellCheck:"false",value:e.copyPasteJsonValue,onChange:function(e){return t.pasteSettings(e)}}),React.createElement("div",{className:"wpforms-gutenberg-form-selector-legend",dangerouslySetInnerHTML:{__html:S.copy_paste_notice}}),React.createElement(E,{className:"wpforms-gutenberg-form-selector-reset-button",onClick:function(){return l(!0)}},S.reset_style_settings)),n&&React.createElement(R,{className:"wpforms-gutenberg-modal",title:S.reset_style_settings,onRequestClose:r},React.createElement("p",null,S.reset_settings_confirm_text),React.createElement(h,{gap:3,align:"center",justify:"flex-end"},React.createElement(E,{isSecondary:!0,onClick:r},S.btn_no),React.createElement(E,{isPrimary:!0,onClick:function(){r(),t.resetSettings()}},S.btn_yes_reset))))},getBlockFormContent:function(e){var t,r;return A?React.createElement(l,{key:"wpforms-gutenberg-form-selector-server-side-renderer",block:"wpforms/form-selector",attributes:e.attributes}):(t=e.clientId,(r=z.getBlockContainer(e))&&r.innerHTML?(F[t]=F[t]||{},F[t].blockHTML=r.innerHTML,F[t].loadedFormId=e.attributes.formId,React.createElement(s,{key:"wpforms-gutenberg-form-selector-fragment-form-html"},React.createElement("div",{dangerouslySetInnerHTML:{__html:F[t].blockHTML}}))):(A=!0,z.jsxParts.getBlockFormContent(e)))},getBlockPreview:function(){return React.createElement(s,{key:"wpforms-gutenberg-form-selector-fragment-block-preview"},React.createElement("img",{src:wpforms_gutenberg_form_selector.block_preview_url,style:{width:"100%"}}))},getEmptyFormsPreview:function(e){var t=e.clientId;return React.createElement(s,{key:"wpforms-gutenberg-form-selector-fragment-block-empty"},React.createElement("div",{className:"wpforms-no-form-preview"},React.createElement("img",{src:wpforms_gutenberg_form_selector.block_empty_url}),React.createElement("p",null,r(I("You can use <b>WPForms</b> to build contact forms, surveys, payment forms, and more with just a few clicks.","wpforms-lite"),{b:React.createElement("strong",null)})),React.createElement("button",{type:"button",className:"get-started-button components-button is-primary",onClick:function(){z.openBuilderPopup(t)}},I("Get Started","wpforms-lite")),React.createElement("p",{className:"empty-desc"},r(I("Need some help? Check out our <a>comprehensive guide.</a>","wpforms-lite"),{a:React.createElement("a",{href:wpforms_gutenberg_form_selector.wpforms_guide,target:"_blank",rel:"noopener noreferrer"})})),React.createElement("div",{id:"wpforms-gutenberg-popup",className:"wpforms-builder-popup"},React.createElement("iframe",{src:"about:blank",width:"100%",height:"100%",id:"wpforms-builder-iframe"}))))},getBlockPlaceholder:function(e,t,r){return React.createElement(w,{key:"wpforms-gutenberg-form-selector-wrap",className:"wpforms-gutenberg-form-selector-wrap"},React.createElement("img",{src:wpforms_gutenberg_form_selector.logo_url}),React.createElement("h3",null,S.title),React.createElement(g,{key:"wpforms-gutenberg-form-selector-select-control",value:e.formId,options:r,onChange:function(e){return t.attrChange("formId",e)}}))}},getPanelClass:function(e){e="wpforms-gutenberg-panel wpforms-block-settings-"+e.clientId;return z.isFullStylingEnabled()||(e+=" disabled_panel"),e},isFullStylingEnabled:function(){return wpforms_gutenberg_form_selector.is_modern_markup&&wpforms_gutenberg_form_selector.is_full_styling},getBlockContainer:function(e){var t,e="#block-".concat(e.clientId," > div"),r=n.querySelector(e);return r=r?r:(t=n.querySelector('iframe[name="editor-canvas"]'))&&t.contentWindow.document.querySelector(e)},getSettingsFieldsHandlers:function(s){return{styleAttrChange:function(e,t){var r=z.getBlockContainer(s),o=r.querySelector("#wpforms-".concat(s.attributes.formId)),n=e.replace(/[A-Z]/g,function(e){return"-".concat(e.toLowerCase())}),l={};if(o)switch(n){case"field-size":case"label-size":case"button-size":for(var a in P[n][t])o.style.setProperty("--wpforms-".concat(n,"-").concat(a),P[n][t][a]);break;default:o.style.setProperty("--wpforms-".concat(n),t)}l[e]=t,s.setAttributes(l),A=!1,this.updateCopyPasteContent(),i(c).trigger("wpformsFormSelectorStyleAttrChange",[r,s,e,t])},attrChange:function(e,t){var r={};r[e]=t,s.setAttributes(r),A=!0,this.updateCopyPasteContent()},resetSettings:function(){for(var e in x)this.styleAttrChange(e,x[e])},updateCopyPasteContent:function(){var e,t={},r=wp.data.select("core/block-editor").getBlockAttributes(s.clientId);for(e in x)t[e]=r[e];s.setAttributes({copyPasteJsonValue:JSON.stringify(t)})},pasteSettings:function(e){var t=z.parseValidateJson(e);t?(t.copyPasteJsonValue=e,s.setAttributes(t),A=!0):(wp.data.dispatch("core/notices").createErrorNotice(S.copy_paste_error,{id:"wpforms-json-parse-error"}),this.updateCopyPasteContent())}}},parseValidateJson:function(e){if("string"!=typeof e)return!1;var t;try{t=JSON.parse(e)}catch(e){t=!1}return t},getIcon:function(){return t("svg",{width:20,height:20,viewBox:"0 0 612 612",className:"dashicon"},t("path",{fill:"currentColor",d:"M544,0H68C30.445,0,0,30.445,0,68v476c0,37.556,30.445,68,68,68h476c37.556,0,68-30.444,68-68V68 C612,30.445,581.556,0,544,0z M464.44,68L387.6,120.02L323.34,68H464.44z M288.66,68l-64.26,52.02L147.56,68H288.66z M544,544H68 V68h22.1l136,92.14l79.9-64.6l79.56,64.6l136-92.14H544V544z M114.24,263.16h95.88v-48.28h-95.88V263.16z M114.24,360.4h95.88 v-48.62h-95.88V360.4z M242.76,360.4h255v-48.62h-255V360.4L242.76,360.4z M242.76,263.16h255v-48.28h-255V263.16L242.76,263.16z M368.22,457.3h129.54V408H368.22V457.3z"}))},getBlockAttributes:function(){return{clientId:{type:"string",default:""},formId:{type:"string",default:B.formId},displayTitle:{type:"boolean",default:B.displayTitle},displayDesc:{type:"boolean",default:B.displayDesc},preview:{type:"boolean"},fieldSize:{type:"string",default:B.fieldSize},fieldBorderRadius:{type:"string",default:B.fieldBorderRadius},fieldBackgroundColor:{type:"string",default:B.fieldBackgroundColor},fieldBorderColor:{type:"string",default:B.fieldBorderColor},fieldTextColor:{type:"string",default:B.fieldTextColor},labelSize:{type:"string",default:B.labelSize},labelColor:{type:"string",default:B.labelColor},labelSublabelColor:{type:"string",default:B.labelSublabelColor},labelErrorColor:{type:"string",default:B.labelErrorColor},buttonSize:{type:"string",default:B.buttonSize},buttonBorderRadius:{type:"string",default:B.buttonBorderRadius},buttonBackgroundColor:{type:"string",default:B.buttonBackgroundColor},buttonTextColor:{type:"string",default:B.buttonTextColor},copyPasteJsonValue:{type:"string",default:B.copyPasteJsonValue}}},getFormOptions:function(){var e=wpforms_gutenberg_form_selector.forms.map(function(e){return{value:e.ID,label:e.post_title}});return e.unshift({value:"",label:S.form_select}),e},getSizeOptions:function(){return[{label:S.small,value:"small"},{label:S.medium,value:"medium"},{label:S.large,value:"large"}]},blockEdit:function(e,t){t=z.getBlockContainer(t);t&&t.dataset&&z.initLeadFormSettings(t.parentElement)},initLeadFormSettings:function(e){var t;e&&e.dataset&&z.isFullStylingEnabled()&&(t=e.dataset.block,e=i(e.querySelector(".wpforms-container")),t=i(".wpforms-block-settings-".concat(t)),e.hasClass("wpforms-lead-forms-container")?(t.addClass("disabled_panel").find(".wpforms-gutenberg-panel-notice.wpforms-lead-form-notice").css("display","block"),t.find(".wpforms-gutenberg-panel-notice.wpforms-use-modern-notice").css("display","none")):(t.removeClass("disabled_panel").find(".wpforms-gutenberg-panel-notice.wpforms-lead-form-notice").css("display","none"),t.find(".wpforms-gutenberg-panel-notice.wpforms-use-modern-notice").css("display",null)))},formLoaded:function(e){z.initLeadFormSettings(e.detail.block),z.updateAccentColors(e.detail),z.loadChoicesJS(e.detail),z.initRichTextField(e.detail.formId),i(e.detail.block).off("click").on("click",z.blockClick)},blockClick:function(e){z.initLeadFormSettings(e.currentTarget)},updateAccentColors:function(e){var t;wpforms_gutenberg_form_selector.is_modern_markup&&c.WPForms&&c.WPForms.FrontendModern&&e.block&&(e=i(e.block.querySelector("#wpforms-".concat(e.formId))),(t=c.WPForms.FrontendModern).updateGBBlockPageIndicatorColor(e),t.updateGBBlockIconChoicesColor(e),t.updateGBBlockRatingColor(e))},loadChoicesJS:function(e){"function"==typeof c.Choices&&i(e.block.querySelector("#wpforms-".concat(e.formId))).find(".choicesjs-select").each(function(e,t){var r=i(t);if("active"!==r.data("choice")){var o=c.wpforms_choicesjs_config||{},n=r.data("search-enabled"),l=r.closest(".wpforms-field");o.searchEnabled=void 0===n||n,o.callbackOnInit=function(){var e=i(this.passedElement.element),t=i(this.input.element),r=e.data("size-class");r&&i(this.containerOuter.element).addClass(r),e.prop("multiple")&&(t.data("placeholder",t.attr("placeholder")),this.getValue(!0).length)&&t.removeAttr("placeholder"),this.disable(),l.find(".is-disabled").removeClass("is-disabled")};try{var a=new Choices(t,o);r.data("choicesjs",a)}catch(e){}}})},initRichTextField:function(e){i("#wpforms-".concat(e," .wp-editor-wrap")).removeClass("html-active").addClass("tmce-active")}}),T.FormSelector.init()},{}]},{},[1]);